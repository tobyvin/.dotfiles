set $mod Mod4

set $left h
set $down j
set $up k
set $right l

set $menu wmenu -i -f 'monospace 12' -n$base06 -N$base00 -S$base00 -s$base09 -m$base06 -M$base0C
set $passmenu find $PASSWORD_STORE_DIR/ -name '*.gpg' -printf '%P\n' | sed "s/\.gpg$//" | sort | $menu | xargs -r pass show

set $ws11 $ws11
set $ws12 $ws12
set $ws01 1:a1
set $ws02 2:a2
set $ws03 3:a3
set $ws04 4:a4
set $ws05 5:a5
set $ws06 6:a6
set $ws07 7:a7
set $ws08 8:a8
set $ws09 9:a9
set $ws10 10:a10
set $ws11 1:b1
set $ws12 2:b2
set $ws13 3:b3
set $ws14 4:b4
set $ws15 5:b5
set $ws16 6:b6
set $ws17 7:b7
set $ws18 8:b8
set $ws19 9:b9
set $ws20 10:b10

include ~/.config/sway/config.d/*

# Property              Border  BG      Text    Indicator Child Border
client.focused          $base05 $base0D $base00 $base0D $base0D
client.focused_inactive $base01 $base01 $base05 $base03 $base01
client.unfocused        $base01 $base00 $base05 $base01 $base01
client.urgent           $base08 $base08 $base00 $base08 $base08
client.placeholder      $base00 $base00 $base05 $base00 $base00
client.background       $base07

font pango:sans-serif 12
focus_on_window_activation focus
default_border pixel
hide_edge_borders --i3 smart
workspace_layout tabbed

workspace $ws01 output $out1 $out2
workspace $ws02 output $out1 $out2
workspace $ws03 output $out1 $out2
workspace $ws04 output $out1 $out2
workspace $ws05 output $out1 $out2
workspace $ws06 output $out1 $out2
workspace $ws07 output $out1 $out2
workspace $ws08 output $out1 $out2
workspace $ws09 output $out1 $out2
workspace $ws10 output $out1 $out2
workspace $ws11 output $out2 $out1
workspace $ws12 output $out2 $out1
workspace $ws13 output $out2 $out1
workspace $ws14 output $out2 $out1
workspace $ws15 output $out2 $out1
workspace $ws16 output $out2 $out1
workspace $ws17 output $out2 $out1
workspace $ws18 output $out2 $out1
workspace $ws19 output $out2 $out1
workspace $ws20 output $out2 $out1

output * bg ~/.local/share/gruvbox/sway.png fill

for_window [shell=".*"] inhibit_idle fullscreen
for_window [app_id="pavucontrol" title="^Volume Control$"] floating enable
for_window [class="^[Ss]team$"] floating enable
for_window [class="^[Ss]team$" title="^Steam$"] floating disable
for_window [class="^[Ss]team$" title="^Sign in to Steam$"] move to scratchpad
for_window [app_id="firefox" title="Library"] floating enable
for_window [app_id="firefox" title="Firefox â€” Sharing Indicator"] kill
for_window [app_id="" title="^Streamlink Twitch GUI$"] floating enable
for_window [app_id="deno" title="^Peek preview$"] resize set width 980px
for_window [class="^discord$" title="^Discord$"] move to scratchpad

assign [app_id="mpv"] $ws11
assign [class="^discord$" instance="^discord$"] $ws12

no_focus [app_id="deno" title="^Peek preview$"]

input type:pointer {
    accel_profile flat
}

input type:touchpad {
    tap enabled
    natural_scroll enabled
}

input type:keyboard {
    xkb_options "caps:escape"
}

floating_modifier $mod

bindsym $mod+q kill
bindsym $mod+Shift+c reload
bindsym $mod+Shift+Escape exec swaynag -t warning -m 'Exit sway?' -B 'Yes' 'swaymsg exit'
bindsym $mod+Delete exec loginctl lock-session
bindsym $mod+Escape exec powermenu | $menu -l 6 | powermenu
bindsym Pause exec swaymsg "output * power toggle"

bindsym $mod+return exec $TERMINAL
bindsym $mod+w exec $BROWSER

bindsym Print exec slurp | grim -g - - | wl-copy --type image/png
bindsym $mod+Print exec /usr/share/sway/scripts/grimshot --notify save area

bindsym $mod+space exec j4-dmenu-desktop --dmenu="$menu" --term=$TERMINAL
bindsym $mod+shift+space exec wmenu_path | $menu | xargs swaymsg exec --

bindsym $mod+v exec cliphist list | $menu -l 10 | cliphist decode | wl-copy
bindsym $mod+Shift+v exec cliphist list | $menu -l 10 | cliphist delete

bindsym $mod+p exec $passmenu -c
bindsym $mod+Shift+p exec $passmenu | wtype -

bindsym $mod+y exec yubikey-oath-dmenu --notify --clipboard --menu-cmd "$menu -l 10"
bindsym $mod+Shift+y exec yubikey-oath-dmenu --notify --type --menu-cmd "$menu -l 10"

bindsym XF86AudioRaiseVolume exec wpctl set-volume -l 1.5 @DEFAULT_AUDIO_SINK@ 5%+
bindsym XF86AudioLowerVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindsym XF86AudioMute exec wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindsym XF86AudioMicMute exec wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous
bindsym XF86MonBrightnessDown exec brightnessctl set 5%-
bindsym XF86MonBrightnessUp exec brightnessctl set +5%

bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym Mod1+Tab exec sway-overfocus group-rw group-dw
bindsym Mod1+Shift+Tab exec sway-overfocus group-lw group-uw

bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

bindsym $mod+Ctrl+$left move workspace to output left
bindsym $mod+Ctrl+$down move workspace to output down
bindsym $mod+Ctrl+$up move workspace to output up
bindsym $mod+Ctrl+$right move workspace to output right

bindsym $mod+Ctrl+Left move workspace to output left
bindsym $mod+Ctrl+Down move workspace to output down
bindsym $mod+Ctrl+Up move workspace to output up
bindsym $mod+Ctrl+Right move workspace to output right

bindsym $mod+Ctrl+6 workspace back_and_forth
bindsym $mod+Tab workspace back_and_forth

bindsym $mod+s   workspace $ws11
bindsym $mod+d   workspace $ws12
bindsym $mod+1   workspace $ws01
bindsym $mod+2   workspace $ws02
bindsym $mod+3   workspace $ws03
bindsym $mod+4   workspace $ws04
bindsym $mod+5   workspace $ws05
bindsym $mod+6   workspace $ws06
bindsym $mod+7   workspace $ws07
bindsym $mod+8   workspace $ws08
bindsym $mod+9   workspace $ws09
bindsym $mod+0   workspace $ws10
bindsym $mod+F1  workspace $ws11
bindsym $mod+F2  workspace $ws12
bindsym $mod+F3  workspace $ws13
bindsym $mod+F4  workspace $ws14
bindsym $mod+F5  workspace $ws15
bindsym $mod+F6  workspace $ws16
bindsym $mod+F7  workspace $ws17
bindsym $mod+F8  workspace $ws18
bindsym $mod+F9  workspace $ws19
bindsym $mod+F10 workspace $ws20

bindsym $mod+Shift+s   move container to workspace $ws11, workspace $ws11
bindsym $mod+Shift+d   move container to workspace $ws12, workspace $ws12
bindsym $mod+Shift+1   move container to workspace $ws01, workspace $ws01
bindsym $mod+Shift+2   move container to workspace $ws02, workspace $ws02
bindsym $mod+Shift+3   move container to workspace $ws03, workspace $ws03
bindsym $mod+Shift+4   move container to workspace $ws04, workspace $ws04
bindsym $mod+Shift+5   move container to workspace $ws05, workspace $ws05
bindsym $mod+Shift+6   move container to workspace $ws06, workspace $ws06
bindsym $mod+Shift+7   move container to workspace $ws07, workspace $ws07
bindsym $mod+Shift+8   move container to workspace $ws08, workspace $ws08
bindsym $mod+Shift+9   move container to workspace $ws09, workspace $ws09
bindsym $mod+Shift+0   move container to workspace $ws10, workspace $ws10
bindsym $mod+Shift+F1  move container to workspace $ws11, workspace $ws11
bindsym $mod+Shift+F2  move container to workspace $ws12, workspace $ws12
bindsym $mod+Shift+F3  move container to workspace $ws13, workspace $ws13
bindsym $mod+Shift+F4  move container to workspace $ws14, workspace $ws14
bindsym $mod+Shift+F5  move container to workspace $ws15, workspace $ws15
bindsym $mod+Shift+F6  move container to workspace $ws16, workspace $ws16
bindsym $mod+Shift+F7  move container to workspace $ws17, workspace $ws17
bindsym $mod+Shift+F8  move container to workspace $ws18, workspace $ws18
bindsym $mod+Shift+F9  move container to workspace $ws19, workspace $ws19
bindsym $mod+Shift+F10 move container to workspace $ws20, workspace $ws20

bindsym $mod+minus move scratchpad
bindsym $mod+plus scratchpad show

bindsym $mod+f fullscreen
bindsym $mod+Shift+f floating toggle

bindsym $mod+backslash splitv
bindsym $mod+e layout toggle split tabbed

bindsym $mod+r mode 'resize'
mode 'resize' {
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    bindsym Escape mode 'default'
}

bar {
    status_command i3status-rs
    font pango:monospace 12
    position top
    strip_workspace_name yes
    tray_padding 5
    colors {
        background $base00
        separator  $base01
        statusline $base04

        # State             Border  BG      Text
        focused_workspace   $base05 $base0D $base00
        active_workspace    $base05 $base03 $base00
        inactive_workspace  $base03 $base01 $base05
        urgent_workspace    $base08 $base08 $base00
        binding_mode        $base00 $base0A $base00
    }
}

exec swaymsg "workspace $ws00; layout tabbed;"

include /etc/sway/config.d/*

exec_always {
    ~/.local/bin/rss-status
    import-gsettings
    systemctl --user start sway-session.target
}
